# 医院药房智能管理系统 - 环境搭建指南

## 🚀 快速开始

作为程序小白？别担心！按照这个指南一步步操作，你就能成功运行这个医院药房管理系统了！

### 📋 目录
1. [环境要求](#环境要求)
2. [JDK安装](#jdk安装)
3. [MySQL安装](#mysql安装)
4. [Maven安装](#maven安装)
5. [Python安装](#python安装)
6. [Node.js安装](#nodejs安装)
7. [项目环境配置](#项目环境配置)
8. [数据库初始化](#数据库初始化)
9. [启动项目](#启动项目)
10. [常见问题](#常见问题)

---

## 环境要求

你的电脑需要安装以下软件：

- **JDK 17+** (Java运行环境)
- **MySQL 8.0** (数据库)
- **Maven 3.6+** (Java项目管理工具)
- **Python 3.8+** (Python运行环境)
- **Node.js 16+** (前端开发环境)

---

## JDK安装

### Windows系统：
1. 访问 [Oracle官网](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html) 或 [Adoptium](https://adoptium.net/)
2. 下载JDK 17 (选择x64 MSI Installer)
3. 双击安装程序，按照提示安装
4. 安装完成后，打开命令提示符，输入：
```bash
java -version
```
如果看到版本信息，说明安装成功！

### 配置环境变量：
1. 右键"此电脑" → 属性 → 高级系统设置 → 环境变量
2. 在"系统变量"中新建：
   - 变量名：`JAVA_HOME`
   - 变量值：`C:\Program Files\Java\jdk-17` (你的JDK安装路径)
3. 在"Path"变量中添加：`%JAVA_HOME%\bin`

---

## MySQL安装

### 下载和安装：
1. 访问 [MySQL官网](https://dev.mysql.com/downloads/mysql/)
2. 下载MySQL 8.0 (选择Windows x64 MSI Installer)
3. 双击安装程序，选择"Developer Default"安装类型
4. 设置root密码：**123456** (记住这个密码！)
5. 完成安装

### 启动MySQL服务：
1. 搜索"服务"，打开服务管理器
2. 找到"MySQL80"服务，右键启动

### 测试连接：
1. 打开命令提示符，输入：
```bash
mysql -u root -p
```
2. 输入密码：123456
3. 如果看到`mysql>`提示符，说明连接成功！

---

## Maven安装

### 下载和安装：
1. 访问 [Maven官网](https://maven.apache.org/download.cgi)
2. 下载Binary zip archive
3. 解压到`C:\Program Files\maven` (建议放在这个目录)

### 配置环境变量：
1. 新建系统变量：
   - 变量名：`MAVEN_HOME`
   - 变量值：`C:\Program Files\maven\apache-maven-3.9.x` (你的Maven路径)
2. 在"Path"中添加：`%MAVEN_HOME%\bin`

### 测试：
```bash
mvn -version
```

---

## Python安装

### 下载和安装：
1. 访问 [Python官网](https://www.python.org/downloads/)
2. 下载Python 3.8+ (选择Windows installer)
3. 安装时勾选"Add Python to PATH"
4. 完成安装

### 测试：
```bash
python --version
pip --version
```

---

## Node.js安装

### 下载和安装：
1. 访问 [Node.js官网](https://nodejs.org/)
2. 下载LTS版本
3. 双击安装，按照默认设置安装

### 测试：
```bash
node --version
npm --version
```

---

## 项目环境配置

### 1. 进入项目目录
```bash
cd F:\HPIMS\Hospital-Pharmacy-Intelligent-Management-System
```

### 2. 配置数据库连接
编辑 `backend/src/main/resources/application.yml` 文件：

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/hpims?useSSL=false&serverTimezone=UTC&characterEncoding=utf8
    username: root
    password: 123456  # 你的MySQL密码
    driver-class-name: com.mysql.cj.jdbc.Driver
```

### 3. 安装后端依赖
```bash
cd backend
mvn clean install
```

### 4. 安装前端依赖
```bash
cd ../frontend
npm install
```

### 5. 安装Python依赖
```bash
cd ../python-audit-service
pip install -r requirements.txt
```

---

## 数据库初始化

### 方法1：使用MySQL命令行
1. 打开命令提示符
2. 连接MySQL：
```bash
mysql -u root -p
```
3. 输入密码：123456
4. 执行初始化脚本：
```mysql
source F:\HPIMS\Hospital-Pharmacy-Intelligent-Management-System\database\init.sql
```

### 方法2：使用MySQL Workbench
1. 打开MySQL Workbench
2. 连接到本地数据库
3. 打开文件：`database/init.sql`
4. 点击执行按钮

### 验证数据：
```mysql
USE hpims;
SHOW TABLES;
SELECT * FROM sys_user;
SELECT * FROM medicine;
```

---

## 启动项目

### 🚀 一键启动脚本 (推荐)

我已经为你准备了启动脚本！

#### Windows用户：
双击运行 `start.bat` 文件

#### Linux/Mac用户：
```bash
chmod +x start.sh
./start.sh
```

### 手动启动步骤：

#### 1. 启动后端服务
```bash
cd backend
mvn spring-boot:run
```
后端将在 http://localhost:8080 启动

#### 2. 启动前端服务
```bash
cd frontend
npm run dev
```
前端将在 http://localhost:5173 启动

#### 3. 启动Python审计服务
```bash
cd python-audit-service
python src/app.py
```
Python服务将在 http://localhost:5000 启动

### 访问系统
打开浏览器，访问：http://localhost:5173

默认管理员账号：
- 用户名：admin
- 密码：123456

---

## 常见问题

### Q: Java版本不对？
A: 确保安装了JDK 17+，输入`java -version`检查

### Q: MySQL连接失败？
A: 检查MySQL服务是否启动，密码是否正确

### Q: 端口被占用？
A: 修改配置文件中的端口号，或关闭占用端口的程序

### Q: 前端安装依赖失败？
A: 确保Node.js版本 >= 16，尝试删除node_modules重新安装

### Q: 数据库表创建失败？
A: 确保数据库hpims存在，检查权限设置

### Q: 项目启动失败？
A: 检查所有服务是否都正常运行，查看控制台错误信息

---

## 📞 获取帮助

如果遇到问题，请：
1. 检查错误信息
2. 查看控制台输出
3. 参考常见问题部分
4. 告诉我具体的错误信息，我会帮你解决！

祝你成功运行项目！🎉

